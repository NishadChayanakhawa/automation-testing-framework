<!DOCTYPE html>
<html lang="en">

<head>
	<title>Test Execution Report</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
	<script src="https://kit.fontawesome.com/5c27d4d602.js" crossorigin="anonymous"></script>
	<script>
		$(document).ready(function () { 
			//Generate Summary Graph
			const executionSummaryData = {
				labels: ["Parallel2 Unit Tests","Report - Screenshot Unit Tests","Excel Data Provider Unit Tests","Parallel3 Unit Tests","Retry Analyzer Unit Tests","Parallel1 Unit Tests","JSON Data Provider Unit Tests","Report - Test Status Unit Tests","Report - HTML Report Unit Tests","HTML Report Generator Unit Tests","Execution Control Unit Tests",],
				datasets: [
					{
						type: 'line',
						label: 'Pass %',
						data: [100,75,100,100,50,100,100,80,100,100,100,],
						borderColor: 'black',
						backgroundColor: 'orange',
						borderDash: [5,5],
						yAxisID : 'y1',
					},
					{
						type : 'bar',
						label: 'Total Tests',
						data: [5,8,4,4,8,5,3,5,2,1,4,],
						backgroundColor: 'lightblue',
						yAxisID : 'y',
					},
					{
						type : 'bar',
						label: 'Passed Tests',
						data: [5,6,4,4,4,5,3,4,2,1,4,],
						backgroundColor: 'lightgreen',
						yAxisID : 'y',
					}
				]
			};

			const executionSummaryConfig = {
				type: 'line',
				data: executionSummaryData,
				options: {
					responsive: true,
					maintainAspectRatio : false,
					interaction : {
						mode : 'index',
						intersect : 'false'
					},
					stacked : false,
					plugins : {
						title : {
							display : true,
							text : 'Test Execution Result Summary'
						}
					},
					scales : {
						y : {
							type : 'linear',
							display : true,
							position : 'left',
							title : {
								display : true,
								text : 'Test Count'
							}
						},
						y1 : {
							type : 'linear',
							display : true,
							position : 'right',
							grid : {
								drawOnChartArea : false
							},
							min : 0,
							max : 110,
							ticks : {
								callback : function(value,index,ticks) {
									if(value=="110") {
										return "";
									} else {
										return value + "%";
									}
								}
							},
							title : {
								display : true,
								text : 'Pass %'
							}
						}
					}
				},
			};

			const executionSummaryChart = document.getElementById("testResultSummary");
			new Chart(executionSummaryChart, executionSummaryConfig);
			
			//Generate Count Graph
			const countSummaryData = {
				labels: ["Passed Tests","Conditionally Passed Tests","Skipped Tests","Failed Tests"],
				datasets: [
					{
						data: [42,3,4,0],
						backgroundColor : ['green','lightgreen','orange','red'],
						hoverOffset : 4,
					}
				]
			};

			const countSummaryConfig = {
				type: 'pie',
				data: countSummaryData,
				options: {
					responsive: true,
					maintainAspectRatio : false,
					plugins : {
						title : {
							display : true,
							text : 'Test Summary'
						}
					},
				},
			};

			const countSummaryChart = document.getElementById("testCountSummary");
			new Chart(countSummaryChart, countSummaryConfig);
			
			//Generate Saving Summary
			const savingSummaryData = {
				labels: ["Time Saved","Actual Execution Time"],
				datasets: [
					{
						data: [31706,15964],
						backgroundColor : ['lightgray','green'],
						hoverOffset : 4,
					}
				]
			};

			const savingDataDisplay=["00:00:31","00:00:15"];

			const savingSummaryConfig = {
				type: 'pie',
				data: savingSummaryData,
				options: {
					responsive: true,
					maintainAspectRatio : false,
					plugins : {
						title : {
							display : true,
							text : 'Parallel Execution Time Saving - 66.5%'
						},
						tooltip: {
							callbacks: {
								label: function (context) {
									return savingDataDisplay[context.dataIndex];
								}
							}
						}
					},
				},
			};

			const savingSummaryChart = document.getElementById("savingSummary");
			new Chart(savingSummaryChart, savingSummaryConfig);
			
			//Generate Execution Time Distribution
			const executionTimeDistributionData = {
				labels: ["Parallel2 Unit Tests","Report - Screenshot Unit Tests","Excel Data Provider Unit Tests","Parallel3 Unit Tests","Retry Analyzer Unit Tests","Parallel1 Unit Tests","JSON Data Provider Unit Tests","Report - Test Status Unit Tests","Report - HTML Report Unit Tests","HTML Report Generator Unit Tests","Execution Control Unit Tests",],
				datasets: [
					{
						label : 'Execution Time',
						data: ["10057","12005","980","2011","110","10073","536","615","27","319","46",],
						fill : true,
					}
				]
			};

			const executionTimeDistributionDisplay=["00:00:10","00:00:12","00:00:00","00:00:02","00:00:00","00:00:10","00:00:00","00:00:00","00:00:00","00:00:00","00:00:00",];

			const executionTimeDistributionConfig = {
				type: 'radar',
				data: executionTimeDistributionData,
				options: {
					responsive: true,
					maintainAspectRatio : false,
					plugins : {
						title : {
							display : true,
							text : 'Execution Time Distribution(ms)'
						},
						tooltip: {
							callbacks: {
								label: function (context) {
									return executionTimeDistributionDisplay[context.dataIndex];
								}
							}
						}
					},
				},
			};

			const executionTimeDistributionChart = document.getElementById("executionTimeDistribution");
			new Chart(executionTimeDistributionChart, executionTimeDistributionConfig);
		});
	</script>
</head>

<body>
	<!-- As a heading -->
	<nav class="navbar bg-body-tertiary">

		<div class="container-fluid">

			<span class="navbar-brand mb-0 h1">Test Execution Report - <span id="subTitle">Dashoard</span></span>
			<button class="btn btn-outline-dark nav-navbar" type="button" data-bs-toggle="offcanvas"
				data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">
				<i class="fa-solid fa-bars fa-lg"></i>
			</button>
		</div>
	</nav>

	<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasSidebar" aria-labelledby="offcanvasSidebarLabel">
		<div class="offcanvas-header">
			<h5 class="offcanvas-title" id="offcanvasSidebarLabel">Menu</h5>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body">
			<ul class="nav nav-pills flex-column mb-auto">
				<li class="nav-item">
					<a href="#" id="Dashboard" class="nav-link active" aria-current="page">
						<i class="fa-solid fa-chart-line fa-xl"></i> Dashboard
					</a>
				</li>
				<li>
					<a href="#" id="Summary" class="nav-link link-body-emphasis">
						<i class="fa-regular fa-rectangle-list fa-xl"></i> Summary
					</a>
				</li>
				<li>
					<a href="#" class="nav-link link-body-emphasis">
						Test Set I
					</a>
				</li>
			</ul>
		</div>
	</div>

	<div id="DashboardContent" style="width:100%;">
		<div class="row">
			<div class="col-12" style="height:45vh;">
				<canvas id="testResultSummary"></canvas>
			</div>
		</div>

		<div class="row" style="height:45vh;">
			<div class="col-4">
				<canvas id="testCountSummary"></canvas>
			</div>
			<div class="col-4">
				<canvas id="savingSummary"></canvas>
			</div>
			<div class="col-4">
				<canvas id="executionTimeDistribution"></canvas>
			</div>
		</div>
	</div>
</body>

</html>